"0","## parameters"
"0","nuSubj = 40"
"0","nrCond_bet = 2"
"0","nrCond_wth = 2"
"0","cond_bet = c(""wake"", ""sleep"")"
"0","cond_wth = c(""premise"", ""inference"")"
"0","myData = tibble()"
"0","## creating the tresholds for each group - vary then"
"0","w_prem = 0.90"
"0","w_inf = 0.55"
"0","s_prem = 0.90"
"0","s_inf = 0.75"
"0","## loop paramaters"
"0","nr_sim = 100"
"0","p_value = 0"
"0","set.seed(123)"
"0","for(i in 1:nr_sim){"
"0","        "
"0","        ## subject"
"0","        subject = rep(1:nuSubj, times = nrCond_bet)"
"0","        ## create IV within"
"0","        pair = rep(cond_wth, times = nuSubj)"
"0","        ## create IV between"
"0","        cond = rep(cond_bet, each = nrCond_bet, times = nuSubj/nrCond_bet)"
"0","        "
"0","        ## create empty tibble (to reset previous)"
"0","        myData = tibble(condition = cond, pairType = pair)"
"0","        "
"0","        ## arrange to pair type and condition so the dv is added appropriately"
"0","        myData ="
"0","                myData %>%"
"0","                arrange("
"0","                        pairType,"
"0","                        condition"
"0","                )"
"0","        "
"0","        ## creating a sample of each treshold"
"0","        w_prem_sample = runif(nuSubj/nrCond_bet, min=w_prem, max=1)"
"0","        w_inf_sample = runif(nuSubj/nrCond_bet, min=w_inf, max=1)"
"0","        s_prem_sample = runif(nuSubj/nrCond_bet, min=s_prem, max=1)"
"0","        s_inf_sample = runif(nuSubj/nrCond_bet, min=s_inf, max=1)"
"0","        "
"0","        ## performance bind - the order is dependent on the arrangment before"
"0","        perf = c(s_inf_sample, w_inf_sample, s_prem_sample, w_prem_sample)"
"0","        "
"0","        ## add performance"
"0","        myData <- "
"0","                myData %>%"
"0","                add_column("
"0","                        perf = perf, .after = ""pairType"""
"0","                ) "
"0","        "
"0","        # convert to factor"
"0","        myData <- "
"0","                myData %>%"
"0","                add_column("
"0","                        subject = subject, .before = ""condition"""
"0","                ) %>%"
"0","                mutate("
"0","                        subject = as.factor(subject),"
"0","                        pairType = as.factor(pairType),"
"0","                        condition = as.factor(condition)"
"0","                        )"
"0","        "
"0","        model <- aov_ez("
"0","                ""subject"","
"0","                ""perf"","
"0","                data = myData,"
"0","                between = c(""condition""),"
"0","                within = c(""pairType"")"
"0","        )"
"0","        "
"0","        p_value[i] = model$anova_table[3, ""Pr(>F)""]"
"0","}"
"0","## proportion of getting p values from the anova"
"0","sum(p_value<0.05)/nr_sim"
"1","[1]"
"1"," 0.74"
"1","
"
